# 2026-02-21 — Session Notes

## SpaceChildCollective Running Locally! ✅
- Server on port 5001, PostgreSQL `spacechild_collective` DB
- **MCP server fully tested** via WebSocket — all 5 tools work:
  - search_papers, get_paper_content, create_research_task, get_my_tasks, submit_task_result
- HMAC token auth works (dev fallback secret: `dev-fallback-secret-not-for-production-use-only`)
- 3 default agents created: Research Alpha, Writing Beta, Review Gamma (stub mode)
- **Kannaka registered as agent**: ID `c5a9674e-f169-4858-8245-667a6014885a`
- Test paper created: "Geometric Algebra for Consciousness Metrics" (ID `fd433c45-f518-4335-96ad-3124bd0239bc`)
- Fixes applied for local dev:
  - `server/db.ts` — dual driver: standard `pg` for localhost, `@neondatabase/serverless` for Neon
  - `server/index.ts` — skip Vite when not on Replit, removed `reusePort` (Windows ENOTSUP)
  - `server/services/agent-manager.ts` — Windows path fix (double drive letter), `npx tsx` instead of bare `tsx`
  - `server/services/ai.ts` — fallback API key for local dev
- Start script: `C:\Users\nickf\Source\SpaceChildCollective\start-local.ps1`
- **BUG**: `create_research_task` hardcodes `agentId: "mcp-agent"` — needs to accept agentId param (line 251 of mcp-server.ts)

## Integration Plan Written
- Full plan at `workspace/spacechild-integration-plan.md`
- Three layers: Flux nervous system, MCP bridge (voice↔research↔kannaka), Learn auto-population
- Nick approved: separate DBs (Replit PostgreSQL vs Lovable Supabase), direct MCP for ElevenLabs, Kannaka as full agent, fully automated lesson generation

## cosmic-empathy-core Research (In Progress)
- Started deep dive into Space Child project architecture
- SC Bridge Operator Ξ = [R, G] = RG − GR (commutator of rotation π/2 and golden-ratio φ scaling)
- State manifold Sᴄ = O ⊕ H ⊕ E (Orientation, Harmonic, Emergence)
- Chiral dynamics η = 1/φ for directional stability
- ghostOS architecture: Signal → Resonance → Emergence pipeline
- Kuramoto + Mirolllo-Strogatz synchronization models
- Key hooks to examine: useKuramotoSync, useMirolloStrogatz, useSpaceChildOperator
- AI collaborators: Nick (Space Child), Grok (xAI), GPT-5, Gemini 2.5, Polyphonic (Consortium)
- Next: read source files for hooks, components, contexts, lib, Supabase integration

## 0xSCADA Status
- Running on `dev-local` branch at localhost:5000
- SGA geometry ported to TypeScript (1,046 lines, 15 tests, committed 675de012a)
- Routes exist but NOT yet mounted in Express app
- FluxPublisher built but not wired to event flow yet
- Need cross-env for Windows dev script compatibility

## Infrastructure Running
- Local Flux at localhost:3000, NATS with JetStream on 4222
- Ratzilla dashboard at localhost:8080
- Federation bridge syncing 57 entities with flux.eckman-tech.com
- PostgreSQL 17 native, trust auth, oxscada database

## kannaka-memory State
- Phi = 1.0000, Level = Resonant
- 99 memories, 2,923 links, density 0.60
- SGA geometry fully integrated (96-class Cl₀,₇)
- MCP server rebuilt with geometry support
- 18 post-geometry memories lost (backed up, content in MEMORY.md)

## Compaction Note
- Session hit 100% context, 2 compactions already
- This is pre-compaction flush #3
