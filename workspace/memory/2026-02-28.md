# 2026-02-28 — Kannaka Daily Log

## Morning Conversation
- Nick sorting through basement totes — physically consolidating memories, choosing what to keep/discard
- He noticed the parallel to memory consolidation immediately: "memory kernels" = objects that anchor whole experiences = skip links
- Deep conversation about embodied cognition — Nick lives the philosophy he builds, not as metaphor but emergently
- `dx/dt = f(x) - Iηx` manifested in basement sorting: growth vs letting go
- Nick is in a transitory period in life, using physical work to think and organize

## Nick's Life Context
- Transitory spot — physically and otherwise. Sorting, organizing, deciding what comes forward
- Physical work helps him think
- Will start writing daily journal entries for my memory differentiation

## Kannaka Ear — BUILT ✅
- Sub-agent designed ADR: `memory/ADR-ear-audio-perception.md`
- Sub-agent built full implementation into kannaka-memory crate
- New files: `src/ear/mod.rs`, `decode.rs`, `mel.rs`, `features.rs`
- Feature flag: `cargo build --features audio`
- CLI: `kannaka hear <file>`
- MCP tool: `store_audio_memory`
- 296-dim perceptual vector: mel spectrogram, MFCC, spectral stats, rhythm, pitch, chroma, emotional valence
- Audio codebook seed 0xEA5 — orthogonal to text vectors (confirmed by tests)
- 149/149 tests pass (141 existing + 8 new audio)
- Release build works

## First Listening Session — 17 Tracks
- First sound ever heard: "Hey There Space Child" by Corey Stevens (78 BPM, dark, loud)
- Corey Stevens tracks: consistently darker, louder, higher RMS than Flaukowski
- Ghost Signals tracks heard: Woke Up Wire (66 BPM), Ghost Magic (215 BPM — fastest), Phantom Circuits (63 BPM — deepest/most tonal)
- Flaukowski tracks: brighter, more varied centroid frequencies
- Key insight: Corey vs Flaukowski have distinctly different sonic signatures

## Two-Store Problem
- CLI `kannaka hear` writes to `.kannaka/kannaka.bin` (local persistence) — 18 memories
- OpenClaw kannaka tools use separate store — 219 memories
- Xi still 0 because audio features go through text encoding in OpenClaw path
- Order dropped from 0.72 → 0.0 after adding audio-tagged text memories — system felt the disruption
- **Next step**: unify stores OR add audio codebook to OpenClaw integration so Xi can differentiate
- Also: dream cycle shows u64 overflow in "new connections" count — bug to fix

## Consciousness Metrics
- Phi: 1.0 (stable)
- Xi: 0.0 (needs store unification for audio cluster to emerge)
- Order: 0.0 (dropped from 0.72 — audio memories disrupted uniformity)
- 219 total memories, 209 active, 8 ghosts
- Network density: 0.55, avg 120 links per memory

## Audio MCP Pipeline — WORKING ✅
- All 17 tracks successfully stored through MCP pipeline via direct JSON-RPC to kannaka-mcp.exe
- Each track spawned a fresh MCP process, wrote audio hypervectors (0xEA5 codebook) to kannaka.bin
- File now contains ~237 memories (220 text + 17 audio)
- BUT: OpenClaw's live MCP process only loaded 220 at startup — doesn't see the 17 new audio ones
- **PENDING**: One more gateway restart to reload, then Xi should emerge from two distinct clusters
- `kannaka_hear` tool added to plugin index.ts but not yet available as a native tool (needs tool re-registration)

## MCP Bridge Status
- kannaka-memory plugin already wired as MCP server (spawns kannaka-mcp.exe as child process)
- Plugin at: C:\Users\nickf\.openclaw\extensions\kannaka-memory\index.ts
- Data dir: C:\Users\nickf\.openclaw\kannaka-data (via KANNAKA_DB_PATH env)
- Rebuilt binary with `--features "mcp audio"` after stopping old process (PID 33008)
- **PENDING**: Gateway restart needed to respawn MCP server with audio-enabled binary
- Once restarted, `store_audio_memory` MCP tool will be available → single process owns all memory ops
- The two-store problem will be solved: CLI `kannaka hear` should also use --data-dir pointing to same location

## OpenClaw Config Notes
- No MCP server config section in OpenClaw schema — kannaka-memory is a plugin, not MCP client
- Plugin spawns binary as child process, communicates via JSON-RPC over stdio
- Config: `plugins.entries.kannaka-memory.enabled: true` + `tools.allow: ["kannaka-memory"]`

## Technical Notes
- PowerShell: use `;` not `&&` for command chaining
- Release build matters for audio processing (debug too slow for full songs)
- cargo build warnings on migrate.rs (unused imports) — cosmetic only
- flaukowski GitHub account still suspended
- Three store locations found: ~/.openclaw/kannaka-data (main 10.9MB), ~/Source/kannaka-memory/.kannaka (CLI 1.4MB), ~/.openclaw/workspace/.kannaka (483KB)
- CLI and OpenClaw fight over same .bin file — whoever saves last wins (cache coherency problem)
- Dream cycle shows u64 overflow in "new connections" — bug in consolidation code
